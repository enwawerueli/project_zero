(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{118:function(e,a,t){},119:function(e,a,t){},120:function(e,a,t){"use strict";t.r(a);var n=t(36),r=t.n(n),l=t(0),c=t.n(l),o=t(26),m=t.n(o),s=t(20),i=t(11),u=t(14),d=t.n(u),p=t(15),E=(t(111),t(112),t(124)),h=t(125),g=t(70),b=t(128),f=t(129),v=t(126),y=t(127),N=t(122),k=t(69),w=t(123),C=t(30),j=t(71),O=t(6),S=Object(l.createContext)();function I(e){var a=e.children,t={loggedIn:!1},n=Object(l.useReducer)((function(e,a){var n={};return"login"===a.type?n=Object(j.a)({},e,{},a.payload,{loggedIn:!0}):"logout"===a.type&&(n=t),sessionStorage.setItem("user",JSON.stringify(n)),n}),JSON.parse(sessionStorage.getItem("user"))||t),r=Object(O.a)(n,2),o=r[0],m=r[1];return c.a.createElement(S.Provider,{value:{currentUser:o,dispatchUserAction:m}},a)}function x(){var e=Object(l.useContext)(S),a=e.currentUser,t=e.dispatchUserAction;function n(e,n){n.preventDefault(),d.a.get("/api/logout",{headers:{Authorization:"Bearer ".concat(a.accessToken)}}).then((function(e){!1===e.data.logged_in&&(t({type:"logout"}),p.NotificationManager.success(e.data.message))})).catch((function(e){console.log(e)}))}return c.a.createElement(b.a,{bg:"light",expand:"lg"},c.a.createElement(C.LinkContainer,{to:"/"},c.a.createElement(b.a.Brand,null,"ProjectZero")),c.a.createElement(b.a.Toggle,{"aria-controls":"basic-navbar-nav"}),c.a.createElement(b.a.Collapse,{id:"basic-navbar-nav"},c.a.createElement(f.a,{className:"mr-auto"},c.a.createElement(v.a,{title:"Home",id:"basic-nav-dropdown"},c.a.createElement(C.LinkContainer,{to:"/schedule-appointment"},c.a.createElement(v.a.Item,null,"Schedule Appointment")),c.a.createElement(v.a.Item,{href:"/action"},"Action"),c.a.createElement(v.a.Item,{href:"/action"},"Another action"),c.a.createElement(v.a.Item,{href:"/action"},"Something"),c.a.createElement(v.a.Divider,null),c.a.createElement(v.a.Item,{href:"/action"},"Something Else")),c.a.createElement(v.a,{title:"Causes",id:"basic-nav-dropdown"},c.a.createElement(v.a.Item,{href:"/action"},"Action"),c.a.createElement(v.a.Item,{href:"/action"},"Another action"),c.a.createElement(v.a.Item,{href:"/action"},"Something"),c.a.createElement(v.a.Divider,null),c.a.createElement(v.a.Item,{href:"/action"},"Separated link")),c.a.createElement(v.a,{title:"Preventive Measures",id:"basic-nav-dropdown"},c.a.createElement(v.a.Item,{href:"/action"},"Action"),c.a.createElement(v.a.Item,{href:"/action"},"Another action"),c.a.createElement(v.a.Item,{href:"/action"},"Something"),c.a.createElement(v.a.Divider,null),c.a.createElement(v.a.Item,{href:"/action"},"Separated link")),c.a.createElement(f.a.Link,{href:"#aboutUs"},"About Us"),c.a.createElement(f.a.Link,{href:"#contactUs"},"Contact Us")),c.a.createElement(y.a,{inline:!0},c.a.createElement(N.a,null,c.a.createElement(y.a.Control,{type:"text",placeholder:"Search",className:"mr-sm-2"}),c.a.createElement(k.a,{variant:"success"},"Search"))),"\xa0",!0===a.loggedIn?c.a.createElement(v.a,{title:a.username,id:"basic-nav-dropdown"},c.a.createElement(v.a.Item,{onSelect:n},"Logout")):c.a.createElement(w.a,null,c.a.createElement(C.LinkContainer,{to:"/login"},c.a.createElement(k.a,null,"Login")),c.a.createElement(C.LinkContainer,{to:"/signup"},c.a.createElement(k.a,null,"Signup")))))}var L=t(7);function _(){return c.a.createElement(E.a,{fluid:!0,className:"py-5 bg-light"},c.a.createElement(h.a,{className:"py-4"},c.a.createElement(g.a,{lg:6,md:6,id:"aboutUs",className:"mb-4 mb-lg-0"},c.a.createElement("h6",{className:"text-uppercase font-weight-bold mb-4"},"About Us"),c.a.createElement("p",{className:"font-italic text-muted"},"Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt.")),c.a.createElement(g.a,{lg:2,md:2,id:"contactUs",className:"mb-4 mb-lg-0"},c.a.createElement("h6",{className:"text-uppercase font-weight-bold mb-4"},"Quick Links"),c.a.createElement("ul",{className:"list-unstyled mb-0"},c.a.createElement("li",{className:"mb-2"},c.a.createElement(L.Link,{to:"/login",className:"text-muted"},"Login")),c.a.createElement("li",{className:"mb-2"},c.a.createElement(L.Link,{to:"/signup",className:"text-muted"},"Signup")),c.a.createElement("li",{className:"mb-2"},c.a.createElement(L.Link,{to:"/products",className:"text-muted"},"Our Products")),c.a.createElement("li",{className:"mb-2"},c.a.createElement(L.Link,{to:"/faq",className:"text-muted"},"FAQ")))),c.a.createElement(g.a,{lg:2,md:2,className:"mb-4 mb-lg-0"},c.a.createElement("h6",{className:"text-uppercase font-weight-bold mb-4"},"Contact Us"),c.a.createElement("ul",{className:"list-unstyled mb-0"},c.a.createElement("li",{className:"mb-2"},"Address"),c.a.createElement("li",{className:"mb-2"},"Phone"),c.a.createElement("li",{className:"mb-2"},"Email"))),c.a.createElement(g.a,{lg:2,md:2,className:"mb-4 mb-lg-0"},c.a.createElement("h6",{className:"text-uppercase font-weight-bold mb-4"},"Follow Us"),c.a.createElement("ul",{className:"list-unstyled mb-0"},c.a.createElement("li",{className:"list-item"},c.a.createElement("a",{href:"https://twitter.com",target:"_blank",title:"twitter"},c.a.createElement("span",{className:"fa fa-twitter"}),"\xa0Twitter")),c.a.createElement("li",{className:"list-item"},c.a.createElement("a",{href:"https://facebook.com",target:"_blank",title:"facebook"},c.a.createElement("span",{className:"fa fa-facebook"}),"\xa0Facebook")),c.a.createElement("li",{className:"list-item"},c.a.createElement("a",{href:"https://instagram.com",target:"_blank",title:"instagram"},c.a.createElement("span",{className:"fa fa-instagram"}),"\xa0Instagram"))))),c.a.createElement(h.a,{className:"justify-content-center"},c.a.createElement("p",{className:"font-weight-bold"},"\xa9 2019 - ",window.appName," | All rights reserved.")))}function P(e){var a=e.label,t=Object(l.useState)(0),n=Object(O.a)(t,2),r=n[0],o=n[1];return Object(l.useEffect)((function(){var e=setInterval((function(){return o(r+1)}),1e3);return function(){return clearInterval(e)}})),c.a.createElement("span",null,"".concat(a,": ").concat(new Date(1e3*r).toISOString().substr(11,8)))}function A(e){var a=e.children;return c.a.createElement(c.a.Fragment,null,c.a.createElement(x,null),c.a.createElement("div",{className:"container-fluid bg-light text-right pb-2",style:{marginBottom:"40px"}},c.a.createElement(P,{label:"Active"})),a,c.a.createElement(_,null))}function U(e){var a=e.children;return c.a.createElement(A,null,c.a.createElement(E.a,null,c.a.createElement(h.a,null,c.a.createElement(g.a,{md:8},c.a.createElement("div",null,c.a.createElement("figure",{className:"figure"},c.a.createElement("img",{src:"",className:"figure-img img-fluid rounded",alt:"..."}),c.a.createElement("figcaption",{className:"figure-caption"},"Image caption."))),c.a.createElement("div",null,c.a.createElement("figure",{className:"figure"},c.a.createElement("img",{src:"",className:"figure-img img-fluid rounded",alt:"..."}),c.a.createElement("figcaption",{className:"figure-caption"},"Image caption.")))),a)))}function F(){var e=Object(l.useContext)(S).dispatchUserAction,a=Object(l.useState)(""),t=Object(O.a)(a,2),n=t[0],r=t[1],o=Object(l.useState)(""),m=Object(O.a)(o,2),s=m[0],i=m[1],u=Object(l.useState)(!1),E=Object(O.a)(u,2),h=E[0],b=E[1];return c.a.createElement(U,null,c.a.createElement(g.a,{md:4,className:"jumbotron"},c.a.createElement("h1",null,"Login"),c.a.createElement("hr",{className:"my-2"}),c.a.createElement(y.a,{noValidate:!0,validated:h,onSubmit:function(a){a.preventDefault();var t=a.currentTarget;b(!0),!1!==t.checkValidity()&&d.a.post("/api/login",{user_id:n,password:s}).then((function(a){a.data.logged_in?(e({type:"login",payload:{username:a.data.username,accessToken:a.data.access_token,refreshToken:a.data.refresh_token}}),p.NotificationManager.success(a.data.message)):"authentication_error"in a.data&&p.NotificationManager.error(a.data.message)})).catch((function(e){console.error(e)}))}},c.a.createElement(y.a.Group,{controlId:"userId"},c.a.createElement(y.a.Label,null,"User ID"),c.a.createElement(y.a.Control,{type:"email",placeholder:"Username or Email",name:"user_id",value:n,onChange:function(e){return r(e.target.value)},required:!0}),c.a.createElement(y.a.Control.Feedback,{type:"invalid"},"Please enter your user ID.")),c.a.createElement(y.a.Group,{controlId:"password"},c.a.createElement(y.a.Label,null,"Password"),c.a.createElement(y.a.Control,{type:"password",placeholder:"Password",name:"password",value:s,onChange:function(e){return i(e.target.value)},required:!0}),c.a.createElement(y.a.Control.Feedback,{type:"invalid"},"Please enter your password.")),c.a.createElement(k.a,{variant:"success",type:"submit"},"Submit")),c.a.createElement("p",{className:"mt-4"},"Don't have an account?\xa0",c.a.createElement(L.Link,{to:"/signup"},"Signup"))))}function G(){var e=Object(l.useContext)(S).setLoggedUser,a=Object(l.useState)(""),t=Object(O.a)(a,2),n=t[0],r=t[1],o=Object(l.useState)(""),m=Object(O.a)(o,2),s=m[0],i=m[1],u=Object(l.useState)(""),E=Object(O.a)(u,2),h=E[0],b=E[1],f=Object(l.useState)(""),v=Object(O.a)(f,2),N=v[0],w=v[1],C=Object(l.useState)(!1),j=Object(O.a)(C,2),I=j[0],x=j[1];return c.a.createElement(U,null,c.a.createElement(g.a,{md:4,className:"jumbotron"},c.a.createElement("h1",null,"Signup"),c.a.createElement("hr",{className:"my-2"}),c.a.createElement(y.a,{noValidate:!0,validated:I,onSubmit:function(a){a.preventDefault();var t=a.currentTarget;x(!0),!1!==t.checkValidity()&&d.a.post("/api/register",{username:n,email:s,password_one:h,password_two:N}).then((function(a){a.data.logged_in&&(e(a.data.username),p.NotificationManager.success(a.data.message))})).catch((function(e){console.error(e)}))}},c.a.createElement(y.a.Group,{controlId:"username"},c.a.createElement(y.a.Label,null,"Username"),c.a.createElement(y.a.Control,{type:"text",placeholder:"username",name:"username",value:n,onChange:function(e){return r(e.target.value)},required:!0}),c.a.createElement(y.a.Control.Feedback,{type:"invalid"},"Username must be atleast 3 characters.")),c.a.createElement(y.a.Group,{controlId:"email"},c.a.createElement(y.a.Label,null,"Email"),c.a.createElement(y.a.Control,{type:"email",placeholder:"username@example.com",name:"email",value:s,onChange:function(e){return i(e.target.value)},required:!0}),c.a.createElement(y.a.Text,{className:"text-muted"},"We'll never share your email with anyone else."),c.a.createElement(y.a.Control.Feedback,{type:"invalid"},"Please provide a valid email.")),c.a.createElement(y.a.Group,{controlId:"password"},c.a.createElement(y.a.Label,null,"Password"),c.a.createElement(y.a.Control,{type:"password",placeholder:"Password",name:"password_one",value:h,onChange:function(e){return b(e.target.value)},required:!0}),c.a.createElement(y.a.Control.Feedback,{type:"invalid"},"Please provide a password.")),c.a.createElement(y.a.Group,{controlId:"confirmPassword"},c.a.createElement(y.a.Label,null,"Confirm Password"),c.a.createElement(y.a.Control,{type:"password",placeholder:"Password",name:"password_two",value:N,onChange:function(e){return w(e.target.value)},required:!0}),c.a.createElement(y.a.Control.Feedback,{type:"invalid"},"Please confirm your password.")),c.a.createElement(k.a,{variant:"success",type:"submit"},"Submit")),c.a.createElement("p",{className:"mt-4"},"Already have an account?\xa0",c.a.createElement(L.Link,{to:"/login"},"Login"))))}function q(){var e=Object(l.useState)(""),a=Object(O.a)(e,2),t=a[0],n=a[1],r=Object(l.useState)(""),o=Object(O.a)(r,2),m=o[0],s=o[1],i=Object(l.useState)(""),u=Object(O.a)(i,2),b=u[0],f=u[1],v=Object(l.useState)(""),w=Object(O.a)(v,2),C=w[0],j=w[1],S=Object(l.useState)(0),I=Object(O.a)(S,2),x=I[0],L=I[1],_=Object(l.useState)(""),P=Object(O.a)(_,2),U=P[0],F=(P[1],Object(l.useState)("")),G=Object(O.a)(F,2),q=G[0],D=(G[1],Object(l.useState)("")),T=Object(O.a)(D,2),M=T[0],Y=T[1],B=Object(l.useState)(""),H=Object(O.a)(B,2),J=H[0],V=H[1],W=Object(l.useState)(!1),z=Object(O.a)(W,2),Q=z[0],R=z[1];return c.a.createElement(A,null,c.a.createElement(E.a,null,c.a.createElement(h.a,{className:"justify-content-md-center"},c.a.createElement(g.a,{md:6,className:"jumbotron"},c.a.createElement("h1",null,"Patient Details"),c.a.createElement("p",null,"Please fill the form below indicaticating the appoitment type you need. We will get back to you soon."),c.a.createElement("hr",{className:"my-2"}),c.a.createElement(y.a,{noValidate:!0,validated:Q,onSubmit:function(e){e.preventDefault();var a=e.currentTarget;R(!0),!1!==a.checkValidity()&&d.a.post("/api/schedule-appointment",{full_name:"".concat(t," ").concat(m," ").concat(b),phone_no:C,age:x,gender:U,treatment_history:q,history_details:M,schedule_date:J}).then((function(e){p.NotificationManager.success(e.data.message)})).catch((function(e){console.error(e)}))}},c.a.createElement(y.a.Group,{controlId:"fullName"},c.a.createElement(y.a.Label,null,"Your full name"),c.a.createElement(N.a,null,c.a.createElement(y.a.Control,{type:"text",placeholder:"Fisrt",name:"first_name",value:t,onChange:function(e){return n(e.target.value.trim())},required:!0}),c.a.createElement(y.a.Control,{type:"text",placeholder:"Middle",name:"middle_name",value:m,onChange:function(e){return s(e.target.value.trim())}}),c.a.createElement(y.a.Control,{type:"text",placeholder:"Last",name:"last_name",value:b,onChange:function(e){return f(e.target.value.trim())}})),c.a.createElement(y.a.Control.Feedback,{type:"invalid"},"Please tell us your full name.")),c.a.createElement(y.a.Group,{controlId:"phoneNo"},c.a.createElement(y.a.Label,null,"Phone Number"),c.a.createElement(N.a,null,c.a.createElement(y.a.Control,{as:"select"},c.a.createElement("option",null,"+254")),c.a.createElement(y.a.Control,{type:"telephone",maxLength:"9",placeholder:"7********",name:"phone_no",value:C,onChange:function(e){return j(e.target.value)},required:!0})),c.a.createElement(y.a.Control.Feedback,{type:"invalid"},"Please give us your phone number so we can contact you.")),c.a.createElement(y.a.Group,{controlId:"genderSelector"},c.a.createElement(y.a.Label,null,"Choose your gender"),c.a.createElement(y.a.Check,{label:"Male",type:"radio",name:"gender",value:"M",id:"gendeMale",required:!0}),c.a.createElement(y.a.Check,{label:"Female",type:"radio",name:"gender",value:"F",id:"genderFemale"}),c.a.createElement(y.a.Check,{label:"Other",type:"radio",name:"gender",value:"X",id:"genderOther"})),c.a.createElement(y.a.Group,{controlId:"phoneNo"},c.a.createElement(y.a.Label,null,"How old are you?"),c.a.createElement(y.a.Control,{type:"number",min:"0",placeholder:"Your age",name:"age",value:x,onChange:function(e){return L(e.target.value)},required:!0}),c.a.createElement(y.a.Control.Feedback,{type:"invalid"},"Please tell us how old you are.")),c.a.createElement(y.a.Group,{controlId:"treatmentHistory"},c.a.createElement(y.a.Label,null,"Have you previously attended our facility?"),c.a.createElement(y.a.Check,{type:"radio",label:"Yes",name:"treatment_history",value:"Y",id:"treatmentHistoryYes",required:!0}),c.a.createElement(y.a.Check,{type:"radio",label:"No",name:"treatment_history",value:"N",id:"treatmentHistoryNo"})),c.a.createElement(y.a.Group,{controlId:"historyDetails"},c.a.createElement(y.a.Label,null,"If Yes, state on which condition and when?"),c.a.createElement(y.a.Control,{as:"textarea",rows:"3",name:"history_details",value:M,onChange:function(e){return Y(e.target.value)}})),c.a.createElement(y.a.Group,{controlId:"appointmentType"},c.a.createElement(y.a.Label,null,"What kind of appointment do you need?"),c.a.createElement(y.a.Check,{type:"radio",label:"One kind",name:"appointment_type",value:"t1",id:"appointment1",required:!0}),c.a.createElement(y.a.Check,{type:"radio",label:"Another kind",name:"appointment_type",value:"t2",id:"appointment2"}),c.a.createElement(y.a.Check,{type:"radio",label:"The other kind",name:"appointment_type",value:"t3",id:"appointment3"}),c.a.createElement(y.a.Check,{type:"radio",label:"General",name:"appointment_type",value:"t4",id:"generalAppointment"})),c.a.createElement(y.a.Group,{controlId:"scheduleDate"},c.a.createElement(y.a.Label,null,"When would you like to come in?"),c.a.createElement(y.a.Control,{type:"date",name:"schedule_date",value:J,onChange:function(e){return V(e.target.value)},required:!0})),c.a.createElement(k.a,{variant:"success",type:"submit"},"Submit"))))))}function D(){return c.a.createElement(A,null,c.a.createElement("div",{className:"jumbotron"},c.a.createElement("div",{className:"text-center"},c.a.createElement("h1",null,"401 - Unauthorised"),c.a.createElement("p",null,"You are not authorized to view this page. Please ",c.a.createElement(L.Link,{to:"/login"},"log in"),"."))))}function T(){return c.a.createElement(A,null,c.a.createElement("div",{className:"jumbotron"},c.a.createElement("div",{className:"text-center"},c.a.createElement("h1",null,"403 - Forbidden"),c.a.createElement("p",null,"You are forbidden from viewing this page."))))}function M(){return c.a.createElement(A,null,c.a.createElement("div",{className:"jumbotron"},c.a.createElement("div",{className:"text-center"},c.a.createElement("h1",null,"404 - Not Found!"),c.a.createElement("p",null,"Sorry, the requested page doesn't exist. Go ",c.a.createElement(L.Link,{to:"/"},"back home"),"."))))}function Y(){return c.a.createElement(A,null,c.a.createElement("div",{className:"jumbotron"},c.a.createElement("div",{className:"text-center"},c.a.createElement("h1",null,"500 - Internal Server Error"),c.a.createElement("p",null,"Sorry, something went terribly wrong. Let's take you ",c.a.createElement(L.Link,{to:"/"},"back home"),"."))))}t(118);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));t(119);var B=Object(i.a)();d.a.interceptors.response.use(void 0,(function(e){var a,t,n,l,c,o,m;return r.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:if(401!==(a=e.response.status)){s.next=22;break}if("expired"!==e.response.data.token_status){s.next=19;break}return t=JSON.parse(sessionStorage.getItem("user")),s.prev=4,s.next=7,r.a.awrap(d.a.get(e.response.data.refresh_url,{headers:{Authorization:"Bearer ".concat(t.refreshToken)}}));case 7:return n=s.sent,t.accessToken=n.data.refresh_token,sessionStorage.setItem("user",JSON.stringify(t)),l=e.response.config,c=l.url,o=l.method,s.next=13,r.a.awrap(d()({url:c,method:o,headers:{Authorization:"Bearer ".concat(t.accessToken)}}));case 13:return m=s.sent,s.abrupt("return",Promise.resolve(m));case 17:s.prev=17,s.t0=s.catch(4);case 19:B.push("/http401"),s.next=23;break;case 22:403===a?B.push("/http403"):500===a&&B.push("/http500");case 23:return s.abrupt("return",Promise.reject(e));case 24:case"end":return s.stop()}}),null,null,[[4,17]])})),m.a.render(c.a.createElement(s.e,{history:B},c.a.createElement((function(){return c.a.createElement(I,null,c.a.createElement(p.NotificationContainer,null),c.a.createElement(s.g,null,c.a.createElement(s.d,{exact:!0,path:"/",component:U}),c.a.createElement(s.d,{path:"/login",component:F}),c.a.createElement(s.d,{path:"/signup",component:G}),c.a.createElement(s.d,{path:"/schedule-appointment",component:q}),c.a.createElement(s.d,{path:"/http401",component:D}),c.a.createElement(s.d,{path:"/http403",component:T}),c.a.createElement(s.d,{path:"/http500",component:Y}),c.a.createElement(s.d,{component:M})))}),null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},72:function(e,a,t){e.exports=t(120)}},[[72,1,2]]]);
//# sourceMappingURL=main.c4cb5d5f.chunk.js.map