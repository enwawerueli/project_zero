(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{129:function(e,a,t){},130:function(e,a,t){},131:function(e,a,t){"use strict";t.r(a);var n=t(44),r=t.n(n),l=t(0),o=t.n(l),c=t(30),s=t.n(c),m=t(24),i=t(12),u=t(16),d=t.n(u),p=t(17),E=(t(121),t(122),t(135)),h=t(136),g=t(78),b=t(139),f=t(140),v=t(137),y=t(138),w=t(133),N=t(77),k=t(134),C=t(35),I=t(81),j=t(11),S=Object(l.createContext)();function O(e){var a=e.children,t={loggedIn:!1},n=Object(l.useReducer)((function(e,a){var n={};return"login"===a.type?n=Object(I.a)({},e,{},a.payload,{loggedIn:!0}):"logout"===a.type&&(n=t),sessionStorage.setItem("user",JSON.stringify(n)),n}),JSON.parse(sessionStorage.getItem("user"))||t),r=Object(j.a)(n,2),c=r[0],s=r[1];return o.a.createElement(S.Provider,{value:{currentUser:c,dispatchUserAction:s}},a)}function x(){var e=Object(l.useContext)(S),a=e.currentUser,t=e.dispatchUserAction;function n(e,n){n.preventDefault(),d.a.get("/api/logout",{headers:{Authorization:"Bearer ".concat(a.accessToken)}}).then((function(e){!1===e.data.logged_in&&(t({type:"logout"}),p.NotificationManager.success(e.data.message))})).catch((function(e){console.log(e)}))}return o.a.createElement(b.a,{bg:"light",expand:"lg"},o.a.createElement(C.LinkContainer,{to:"/"},o.a.createElement(b.a.Brand,null,"ProjectZero")),o.a.createElement(b.a.Toggle,{"aria-controls":"basic-navbar-nav"}),o.a.createElement(b.a.Collapse,{id:"basic-navbar-nav"},o.a.createElement(f.a,{className:"mr-auto"},o.a.createElement(v.a,{title:"Home",id:"basic-nav-dropdown"},o.a.createElement(C.LinkContainer,{to:"/schedule-appointment"},o.a.createElement(v.a.Item,null,"Schedule Appointment")),o.a.createElement(v.a.Item,{href:"/action"},"Action"),o.a.createElement(v.a.Item,{href:"/action"},"Another action"),o.a.createElement(v.a.Item,{href:"/action"},"Something"),o.a.createElement(v.a.Divider,null),o.a.createElement(v.a.Item,{href:"/action"},"Something Else")),o.a.createElement(v.a,{title:"Causes",id:"basic-nav-dropdown"},o.a.createElement(v.a.Item,{href:"/action"},"Action"),o.a.createElement(v.a.Item,{href:"/action"},"Another action"),o.a.createElement(v.a.Item,{href:"/action"},"Something"),o.a.createElement(v.a.Divider,null),o.a.createElement(v.a.Item,{href:"/action"},"Separated link")),o.a.createElement(v.a,{title:"Preventive Measures",id:"basic-nav-dropdown"},o.a.createElement(v.a.Item,{href:"/action"},"Action"),o.a.createElement(v.a.Item,{href:"/action"},"Another action"),o.a.createElement(v.a.Item,{href:"/action"},"Something"),o.a.createElement(v.a.Divider,null),o.a.createElement(v.a.Item,{href:"/action"},"Separated link")),o.a.createElement(f.a.Link,{href:"#aboutUs"},"About Us"),o.a.createElement(f.a.Link,{href:"#contactUs"},"Contact Us")),o.a.createElement(y.a,{inline:!0},o.a.createElement(w.a,null,o.a.createElement(y.a.Control,{type:"text",placeholder:"Search",className:"mr-sm-2"}),o.a.createElement(N.a,{variant:"success"},"Search"))),"\xa0",!0===a.loggedIn?o.a.createElement(v.a,{title:a.username,id:"basic-nav-dropdown"},o.a.createElement(v.a.Item,{onSelect:n},"Logout")):o.a.createElement(k.a,null,o.a.createElement(C.LinkContainer,{to:"/login"},o.a.createElement(N.a,null,"Login")),o.a.createElement(C.LinkContainer,{to:"/signup"},o.a.createElement(N.a,null,"Signup")))))}var L=t(7);function P(){return o.a.createElement(E.a,{fluid:!0,className:"py-5 bg-light"},o.a.createElement(h.a,{className:"py-4"},o.a.createElement(g.a,{lg:6,md:6,id:"aboutUs",className:"mb-4 mb-lg-0"},o.a.createElement("h6",{className:"text-uppercase font-weight-bold mb-4"},"About Us"),o.a.createElement("p",{className:"font-italic text-muted"},"Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt.")),o.a.createElement(g.a,{lg:2,md:2,id:"contactUs",className:"mb-4 mb-lg-0"},o.a.createElement("h6",{className:"text-uppercase font-weight-bold mb-4"},"Quick Links"),o.a.createElement("ul",{className:"list-unstyled mb-0"},o.a.createElement("li",{className:"mb-2"},o.a.createElement(L.Link,{to:"/login",className:"text-muted"},"Login")),o.a.createElement("li",{className:"mb-2"},o.a.createElement(L.Link,{to:"/signup",className:"text-muted"},"Signup")),o.a.createElement("li",{className:"mb-2"},o.a.createElement(L.Link,{to:"/products",className:"text-muted"},"Our Products")),o.a.createElement("li",{className:"mb-2"},o.a.createElement(L.Link,{to:"/faq",className:"text-muted"},"FAQ")))),o.a.createElement(g.a,{lg:2,md:2,className:"mb-4 mb-lg-0"},o.a.createElement("h6",{className:"text-uppercase font-weight-bold mb-4"},"Contact Us"),o.a.createElement("ul",{className:"list-unstyled mb-0"},o.a.createElement("li",{className:"mb-2"},"Address"),o.a.createElement("li",{className:"mb-2"},"Phone"),o.a.createElement("li",{className:"mb-2"},"Email"))),o.a.createElement(g.a,{lg:2,md:2,className:"mb-4 mb-lg-0"},o.a.createElement("h6",{className:"text-uppercase font-weight-bold mb-4"},"Follow Us"),o.a.createElement("ul",{className:"list-unstyled mb-0"},o.a.createElement("li",{className:"list-item"},o.a.createElement("a",{href:"https://twitter.com",target:"_blank",title:"twitter"},o.a.createElement("span",{className:"fa fa-twitter"}),"\xa0Twitter")),o.a.createElement("li",{className:"list-item"},o.a.createElement("a",{href:"https://facebook.com",target:"_blank",title:"facebook"},o.a.createElement("span",{className:"fa fa-facebook"}),"\xa0Facebook")),o.a.createElement("li",{className:"list-item"},o.a.createElement("a",{href:"https://instagram.com",target:"_blank",title:"instagram"},o.a.createElement("span",{className:"fa fa-instagram"}),"\xa0Instagram"))))),o.a.createElement(h.a,{className:"justify-content-center"},o.a.createElement("p",{className:"font-weight-bold"},"\xa9 2019 - ",window.appName," | All rights reserved.")))}function _(e){var a=e.label,t=Object(l.useState)(0),n=Object(j.a)(t,2),r=n[0],c=n[1];return Object(l.useEffect)((function(){var e=setInterval((function(){return c(r+1)}),1e3);return function(){return clearInterval(e)}})),o.a.createElement("span",null,"".concat(a,": ").concat(new Date(1e3*r).toISOString().substr(11,8)))}function A(e){var a=e.children;return o.a.createElement(o.a.Fragment,null,o.a.createElement(x,null),o.a.createElement("div",{className:"container-fluid bg-light text-right pb-2",style:{marginBottom:"40px"}},o.a.createElement(_,{label:"Active"})),a,o.a.createElement(P,null))}function F(e){var a=e.children;return o.a.createElement(A,null,o.a.createElement(E.a,null,o.a.createElement(h.a,null,o.a.createElement(g.a,{md:8},o.a.createElement("div",null,o.a.createElement("figure",{className:"figure"},o.a.createElement("img",{src:"",className:"figure-img img-fluid rounded",alt:"..."}),o.a.createElement("figcaption",{className:"figure-caption"},"Image caption."))),o.a.createElement("div",null,o.a.createElement("figure",{className:"figure"},o.a.createElement("img",{src:"",className:"figure-img img-fluid rounded",alt:"..."}),o.a.createElement("figcaption",{className:"figure-caption"},"Image caption.")))),a)))}var U=t(42);function B(e,a){return{isValid:!e&&a,isInvalid:e&&a}}function q(){var e=Object(l.useContext)(S).setLoggedUser;return o.a.createElement(F,null,o.a.createElement(g.a,{md:4,className:"jumbotron"},o.a.createElement("h1",null,"Signup"),o.a.createElement("hr",{className:"my-2"}),o.a.createElement(U.a,{initialValues:{username:"",email:"",password:"",confirmPassword:""},validate:function(e){var a={};return Object.keys(e).map((function(t){e[t]||(a[t]="Required")})),!a.username&&e.username.length<3&&(a.username="Too short. Must be atleast 3 characters"),a.email||/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i.test(e.email)||(a.email="Enter a valid email."),!a.password&&e.password.length<6&&(a.password="Too short. Must be atleast 6 characters"),a.confirmPassword||e.password===e.confirmPassword||(a.confirmPassword="Password do not match."),a},onSubmit:function(a){d.a.post("/api/register",a).then((function(a){a.data.logged_in&&(e(a.data.username),p.NotificationManager.success(a.data.message))})).catch((function(e){console.error(e)}))}},(function(e){return o.a.createElement(y.a,{noValidate:!0,onSubmit:e.handleSubmit},o.a.createElement(y.a.Group,{controlId:"username"},o.a.createElement(y.a.Label,null,"Username"),o.a.createElement(y.a.Control,Object.assign({type:"text",name:"username",placeholder:"username",required:!0,value:e.values.username,onChange:e.handleChange,onBlur:e.handleBlur},B(e.errors.username,e.touched.username))),o.a.createElement(y.a.Control.Feedback,{type:"invalid"},e.errors.username)),o.a.createElement(y.a.Group,{controlId:"email"},o.a.createElement(y.a.Label,null,"Email"),o.a.createElement(y.a.Control,Object.assign({type:"email",name:"email",placeholder:"username@example.com",required:!0,value:e.values.email,onChange:e.handleChange,onBlur:e.handleBlur},B(e.errors.email,e.touched.email))),o.a.createElement(y.a.Text,{className:"text-muted"},"We'll never share your email with anyone else."),o.a.createElement(y.a.Control.Feedback,{type:"invalid"},e.errors.email)),o.a.createElement(y.a.Group,{controlId:"password"},o.a.createElement(y.a.Label,null,"Password"),o.a.createElement(y.a.Control,Object.assign({type:"password",name:"password",placeholder:"Password",required:!0,value:e.values.password,onChange:e.handleChange,onBlur:e.handleBlur},B(e.errors.password,e.touched.password))),o.a.createElement(y.a.Control.Feedback,{type:"invalid"},e.errors.password)),o.a.createElement(y.a.Group,{controlId:"confirmPassword"},o.a.createElement(y.a.Label,null,"Confirm Password"),o.a.createElement(y.a.Control,Object.assign({type:"password",name:"confirmPassword",placeholder:"Password",required:!0,value:e.values.confirmPassword,onChange:e.handleChange,onBlur:e.handleBlur},B(e.errors.confirmPassword,e.touched.confirmPassword))),o.a.createElement(y.a.Control.Feedback,{type:"invalid"},e.errors.confirmPassword)),o.a.createElement(N.a,{variant:"success",type:"submit"},"Submit"))})),o.a.createElement("p",{className:"mt-4"},"Already have an account?\xa0",o.a.createElement(L.Link,{to:"/login"},"Login"))))}function G(){var e=Object(l.useContext)(S).dispatchUserAction;return o.a.createElement(F,null,o.a.createElement(g.a,{md:4,className:"jumbotron"},o.a.createElement("h1",null,"Login"),o.a.createElement("hr",{className:"my-2"}),o.a.createElement(U.a,{initialValues:{userId:"",password:""},validate:function(e){var a={};return e.userId||(a.userId="Please enter your user ID."),e.password||(a.password="Please enter your user password."),a},onSubmit:function(a){d.a.post("/api/login",a).then((function(a){a.data.logged_in?(e({type:"login",payload:{username:a.data.username,accessToken:a.data.access_token,refreshToken:a.data.refresh_token}}),p.NotificationManager.success(a.data.message)):"authentication_error"in a.data&&p.NotificationManager.error(a.data.message)})).catch((function(e){console.error(e)}))}},(function(e){var a=e.values,t=e.errors,n=e.touched,r=e.handleChange,l=e.handleBlur,c=e.handleSubmit;return o.a.createElement(y.a,{noValidate:!0,onSubmit:c},o.a.createElement(y.a.Group,{controlId:"userId"},o.a.createElement(y.a.Label,null,"User ID"),o.a.createElement(y.a.Control,Object.assign({type:"text",name:"userId",placeholder:"Username or Email",required:!0,value:a.userId,onChange:r,onBlur:l},B(t.userId,n.userId))),o.a.createElement(y.a.Control.Feedback,{type:"invalid"},t.userId)),o.a.createElement(y.a.Group,{controlId:"password"},o.a.createElement(y.a.Label,null,"Password"),o.a.createElement(y.a.Control,Object.assign({type:"password",name:"password",placeholder:"Password",required:!0,value:a.password,onChange:r,onBlur:l},B(t.password,n.password))),o.a.createElement(y.a.Control.Feedback,{type:"invalid"},t.password)),o.a.createElement(N.a,{variant:"success",type:"submit"},"Submit"))})),o.a.createElement("p",{className:"mt-4"},"Don't have an account?\xa0",o.a.createElement(L.Link,{to:"/signup"},"Signup"))))}function T(){var e=Object(l.useState)(""),a=Object(j.a)(e,2),t=a[0],n=a[1],r=Object(l.useState)(""),c=Object(j.a)(r,2),s=c[0],m=c[1],i=Object(l.useState)(""),u=Object(j.a)(i,2),b=u[0],f=u[1],v=Object(l.useState)(""),k=Object(j.a)(v,2),C=k[0],I=k[1],S=Object(l.useState)(0),O=Object(j.a)(S,2),x=O[0],L=O[1],P=Object(l.useState)(""),_=Object(j.a)(P,2),F=_[0],U=(_[1],Object(l.useState)("")),B=Object(j.a)(U,2),q=B[0],G=(B[1],Object(l.useState)("")),T=Object(j.a)(G,2),D=T[0],M=T[1],Y=Object(l.useState)(""),V=Object(j.a)(Y,2),H=V[0],J=V[1],W=Object(l.useState)(!1),z=Object(j.a)(W,2),Z=z[0],Q=z[1];return o.a.createElement(A,null,o.a.createElement(E.a,null,o.a.createElement(h.a,{className:"justify-content-md-center"},o.a.createElement(g.a,{md:6,className:"jumbotron"},o.a.createElement("h1",null,"Patient Details"),o.a.createElement("p",null,"Please fill the form below indicaticating the appoitment type you need. We will get back to you soon."),o.a.createElement("hr",{className:"my-2"}),o.a.createElement(y.a,{noValidate:!0,validated:Z,onSubmit:function(e){e.preventDefault();var a=e.currentTarget;Q(!0),!1!==a.checkValidity()&&d.a.post("/api/schedule-appointment",{full_name:"".concat(t," ").concat(s," ").concat(b),phone_no:C,age:x,gender:F,treatment_history:q,history_details:D,schedule_date:H}).then((function(e){p.NotificationManager.success(e.data.message)})).catch((function(e){console.error(e)}))}},o.a.createElement(y.a.Group,{controlId:"fullName"},o.a.createElement(y.a.Label,null,"Your full name"),o.a.createElement(w.a,null,o.a.createElement(y.a.Control,{type:"text",placeholder:"Fisrt",name:"first_name",value:t,onChange:function(e){return n(e.target.value.trim())},required:!0}),o.a.createElement(y.a.Control,{type:"text",placeholder:"Middle",name:"middle_name",value:s,onChange:function(e){return m(e.target.value.trim())}}),o.a.createElement(y.a.Control,{type:"text",placeholder:"Last",name:"last_name",value:b,onChange:function(e){return f(e.target.value.trim())}})),o.a.createElement(y.a.Control.Feedback,{type:"invalid"},"Please tell us your full name.")),o.a.createElement(y.a.Group,{controlId:"phoneNo"},o.a.createElement(y.a.Label,null,"Phone Number"),o.a.createElement(w.a,null,o.a.createElement(y.a.Control,{as:"select"},o.a.createElement("option",null,"+254")),o.a.createElement(y.a.Control,{type:"telephone",maxLength:"9",placeholder:"7********",name:"phone_no",value:C,onChange:function(e){return I(e.target.value)},required:!0})),o.a.createElement(y.a.Control.Feedback,{type:"invalid"},"Please give us your phone number so we can contact you.")),o.a.createElement(y.a.Group,{controlId:"genderSelector"},o.a.createElement(y.a.Label,null,"Choose your gender"),o.a.createElement(y.a.Check,{label:"Male",type:"radio",name:"gender",value:"M",id:"gendeMale",required:!0}),o.a.createElement(y.a.Check,{label:"Female",type:"radio",name:"gender",value:"F",id:"genderFemale"}),o.a.createElement(y.a.Check,{label:"Other",type:"radio",name:"gender",value:"X",id:"genderOther"})),o.a.createElement(y.a.Group,{controlId:"phoneNo"},o.a.createElement(y.a.Label,null,"How old are you?"),o.a.createElement(y.a.Control,{type:"number",min:"0",placeholder:"Your age",name:"age",value:x,onChange:function(e){return L(e.target.value)},required:!0}),o.a.createElement(y.a.Control.Feedback,{type:"invalid"},"Please tell us how old you are.")),o.a.createElement(y.a.Group,{controlId:"treatmentHistory"},o.a.createElement(y.a.Label,null,"Have you previously attended our facility?"),o.a.createElement(y.a.Check,{type:"radio",label:"Yes",name:"treatment_history",value:"Y",id:"treatmentHistoryYes",required:!0}),o.a.createElement(y.a.Check,{type:"radio",label:"No",name:"treatment_history",value:"N",id:"treatmentHistoryNo"})),o.a.createElement(y.a.Group,{controlId:"historyDetails"},o.a.createElement(y.a.Label,null,"If Yes, state on which condition and when?"),o.a.createElement(y.a.Control,{as:"textarea",rows:"3",name:"history_details",value:D,onChange:function(e){return M(e.target.value)}})),o.a.createElement(y.a.Group,{controlId:"appointmentType"},o.a.createElement(y.a.Label,null,"What kind of appointment do you need?"),o.a.createElement(y.a.Check,{type:"radio",label:"One kind",name:"appointment_type",value:"t1",id:"appointment1",required:!0}),o.a.createElement(y.a.Check,{type:"radio",label:"Another kind",name:"appointment_type",value:"t2",id:"appointment2"}),o.a.createElement(y.a.Check,{type:"radio",label:"The other kind",name:"appointment_type",value:"t3",id:"appointment3"}),o.a.createElement(y.a.Check,{type:"radio",label:"General",name:"appointment_type",value:"t4",id:"generalAppointment"})),o.a.createElement(y.a.Group,{controlId:"scheduleDate"},o.a.createElement(y.a.Label,null,"When would you like to come in?"),o.a.createElement(y.a.Control,{type:"date",name:"schedule_date",value:H,onChange:function(e){return J(e.target.value)},required:!0})),o.a.createElement(N.a,{variant:"success",type:"submit"},"Submit"))))))}function D(){return o.a.createElement(A,null,o.a.createElement("div",{className:"jumbotron"},o.a.createElement("div",{className:"text-center"},o.a.createElement("h1",null,"401 - Unauthorised"),o.a.createElement("p",null,"You are not authorized to view this page. Please ",o.a.createElement(L.Link,{to:"/login"},"log in"),"."))))}function M(){return o.a.createElement(A,null,o.a.createElement("div",{className:"jumbotron"},o.a.createElement("div",{className:"text-center"},o.a.createElement("h1",null,"403 - Forbidden"),o.a.createElement("p",null,"You are forbidden from viewing this page."))))}function Y(){return o.a.createElement(A,null,o.a.createElement("div",{className:"jumbotron"},o.a.createElement("div",{className:"text-center"},o.a.createElement("h1",null,"404 - Not Found!"),o.a.createElement("p",null,"Sorry, the requested page doesn't exist. Go ",o.a.createElement(L.Link,{to:"/"},"back home"),"."))))}function V(){return o.a.createElement(A,null,o.a.createElement("div",{className:"jumbotron"},o.a.createElement("div",{className:"text-center"},o.a.createElement("h1",null,"500 - Internal Server Error"),o.a.createElement("p",null,"Sorry, something went terribly wrong. Let's take you ",o.a.createElement(L.Link,{to:"/"},"back home"),"."))))}t(129);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));t(130);var H=Object(i.a)();d.a.interceptors.response.use(void 0,(function(e){var a,t,n,l,o,c,s;return r.a.async((function(m){for(;;)switch(m.prev=m.next){case 0:if(401!==(a=e.response.status)){m.next=22;break}if("expired"!==e.response.data.token_status){m.next=19;break}return t=JSON.parse(sessionStorage.getItem("user")),m.prev=4,m.next=7,r.a.awrap(d.a.get(e.response.data.refresh_url,{headers:{Authorization:"Bearer ".concat(t.refreshToken)}}));case 7:return n=m.sent,t.accessToken=n.data.refresh_token,sessionStorage.setItem("user",JSON.stringify(t)),l=e.response.config,o=l.url,c=l.method,m.next=13,r.a.awrap(d()({url:o,method:c,headers:{Authorization:"Bearer ".concat(t.accessToken)}}));case 13:return s=m.sent,m.abrupt("return",Promise.resolve(s));case 17:m.prev=17,m.t0=m.catch(4);case 19:H.push("/http401"),m.next=23;break;case 22:403===a?H.push("/http403"):500===a&&H.push("/http500");case 23:return m.abrupt("return",Promise.reject(e));case 24:case"end":return m.stop()}}),null,null,[[4,17]])})),s.a.render(o.a.createElement(m.e,{history:H},o.a.createElement((function(){return o.a.createElement(O,null,o.a.createElement(p.NotificationContainer,null),o.a.createElement(m.g,null,o.a.createElement(m.d,{exact:!0,path:"/",component:F}),o.a.createElement(m.d,{path:"/login",component:G}),o.a.createElement(m.d,{path:"/signup",component:q}),o.a.createElement(m.d,{path:"/schedule-appointment",component:T}),o.a.createElement(m.d,{path:"/http401",component:D}),o.a.createElement(m.d,{path:"/http403",component:M}),o.a.createElement(m.d,{path:"/http500",component:V}),o.a.createElement(m.d,{component:Y})))}),null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},82:function(e,a,t){e.exports=t(131)}},[[82,1,2]]]);
//# sourceMappingURL=main.5c949b7a.chunk.js.map